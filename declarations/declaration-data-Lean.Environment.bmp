{"name":"Lean.Environment","instances":[{"typeNames":["Lean.EnvExtensionState"],"name":"Lean.instInhabitedEnvExtensionState","className":"Inhabited"},{"typeNames":["Lean.ModuleIdx"],"name":"Lean.instInhabitedModuleIdx","className":"Inhabited"},{"typeNames":["Lean.Import"],"name":"Lean.instToStringImport","className":"ToString"},{"typeNames":["Lean.EnvExtensionEntry"],"name":"Lean.instNonemptyEnvExtensionEntry","className":"Nonempty"},{"typeNames":["Lean.ModuleData"],"name":"Lean.instInhabitedModuleData","className":"Inhabited"},{"typeNames":["Lean.EnvironmentHeader"],"name":"Lean.instInhabitedEnvironmentHeader","className":"Inhabited"},{"typeNames":["Lean.Environment"],"name":"Lean.instInhabitedEnvironment","className":"Inhabited"},{"typeNames":["Lean.EnvExtensionInterface"],"name":"Lean.instInhabitedEnvExtensionInterface","className":"Inhabited"},{"typeNames":["Lean.EnvExtensionInterfaceUnsafe.Ext"],"name":"Lean.EnvExtensionInterfaceUnsafe.instInhabitedExt","className":"Inhabited"},{"typeNames":["Lean.EnvExtension"],"name":"Lean.EnvExtension.instInhabitedEnvExtension","className":"Inhabited"},{"typeNames":["Lean.PersistentEnvExtensionState"],"name":"Lean.instInhabitedPersistentEnvExtensionState","className":"Inhabited"},{"typeNames":["Lean.PersistentEnvExtension"],"name":"Lean.instInhabitedPersistentEnvExtension","className":"Inhabited"},{"typeNames":["Lean.SimplePersistentEnvExtension"],"name":"Lean.SimplePersistentEnvExtension.instInhabitedSimplePersistentEnvExtension","className":"Inhabited"},{"typeNames":["Lean.TagDeclarationExtension"],"name":"Lean.TagDeclarationExtension.instInhabitedTagDeclarationExtension","className":"Inhabited"},{"typeNames":["Lean.MapDeclarationExtension"],"name":"Lean.MapDeclarationExtension.instInhabitedMapDeclarationExtension","className":"Inhabited"},{"typeNames":[],"name":"Lean.instMonadEnv","className":"Lean.MonadEnv"}],"imports":["Init","Lean.Data.HashMap","Lean.ImportingFlag","Lean.Data.SMap","Lean.Declaration","Lean.LocalContext","Lean.Util.Path","Lean.Util.FindExpr","Lean.Util.Profile"],"declarations":[{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L877-L879","name":"Lean.instMonadEnv","docLink":"./Lean/Environment.html#Lean.instMonadEnv","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L871-L873","name":"Lean.MonadEnv","docLink":"./Lean/Environment.html#Lean.MonadEnv","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L867-L867","name":"Lean.Kernel.whnf","docLink":"./Lean/Environment.html#Lean.Kernel.whnf","doc":"Kernel WHNF function. We use it mainly for debugging purposes.\nRecall that the Kernel type checker does not support metavariables.\nWhen implementing automation, consider using the `MetaM` methods. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L860-L860","name":"Lean.Kernel.isDefEq","docLink":"./Lean/Environment.html#Lean.Kernel.isDefEq","doc":"Kernel isDefEq predicate. We use it mainly for debugging purposes.\nRecall that the Kernel type checker does not support metavariables.\nWhen implementing automation, consider using the `MetaM` methods. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L841-L848","name":"Lean.Environment.hasUnsafe","docLink":"./Lean/Environment.html#Lean.Environment.hasUnsafe","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L831-L839","name":"Lean.Environment.evalConstCheck","docLink":"./Lean/Environment.html#Lean.Environment.evalConstCheck","doc":"Like `evalConst`, but first check that `constName` indeed is a declaration of type `typeName`.\nNote that this function cannot guarantee that `typeName` is in fact the name of the type `α`. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L824-L824","name":"Lean.Environment.evalConst","docLink":"./Lean/Environment.html#Lean.Environment.evalConst","doc":"Evaluate the given declaration under the given environment to a value of the given type.\nThis function is only safe to use if the type matches the declaration's type in the environment\nand if `enableInitializersExecution` has been used before importing any modules. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L801-L817","name":"Lean.Environment.displayStats","docLink":"./Lean/Environment.html#Lean.Environment.displayStats","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L796-L798","name":"Lean.Environment.add","docLink":"./Lean/Environment.html#Lean.Environment.add","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L783-L784","name":"Lean.Environment.getNamespaceSet","docLink":"./Lean/Environment.html#Lean.Environment.getNamespaceSet","doc":"Return a set containing all namespaces in `env`. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L779-L780","name":"Lean.Environment.isNamespace","docLink":"./Lean/Environment.html#Lean.Environment.isNamespace","doc":"Return `true` if `n` is the name of a namespace in `env`. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L775-L776","name":"Lean.Environment.registerNamespace","docLink":"./Lean/Environment.html#Lean.Environment.registerNamespace","doc":"Register a new namespace in the environment. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L762-L770","name":"Lean.namespacesExt","docLink":"./Lean/Environment.html#Lean.namespacesExt","doc":"Environment extension for tracking all `namespace` declared by users.\n"},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L758-L760","name":"Lean.withImportModules","docLink":"./Lean/Environment.html#Lean.withImportModules","doc":"Create environment object from imports and free compacted regions after calling `act`. No live references to the\nenvironment object or imported objects may exist after `act` finishes. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L736-L753","name":"Lean.importModules.importMods","docLink":"./Lean/Environment.html#Lean.importModules.importMods","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L694-L753","name":"Lean.importModules","docLink":"./Lean/Environment.html#Lean.importModules","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L687-L691","name":"Lean.ImportState","docLink":"./Lean/Environment.html#Lean.ImportState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L660-L660","name":"Lean.getNumBuiltiAttributes","docLink":"./Lean/Environment.html#Lean.getNumBuiltiAttributes","doc":"\"Forward declaration\" for retrieving the number of builtin attributes. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L658-L658","name":"Lean.updateEnvAttributes","docLink":"./Lean/Environment.html#Lean.updateEnvAttributes","doc":"\"Forward declaration\" needed for updating the attribute table with user-defined attributes.\nUser-defined attributes are declared using the `initialize` command. The `initialize` command is just syntax sugar for the `init` attribute.\nThe `init` attribute is initialized after the `attributeExtension` is initialized. We cannot change the order since the `init` attribute is an attribute,\nand requires this extension.\nThe `attributeExtension` initializer uses `attributeMapRef` to initialize the attribute mapping.\nWhen we a new user-defined attribute declaration is imported, `attributeMapRef` is updated.\nLater, we set this method with code that adds the user-defined attributes that were imported after we initialized `attributeExtension`.\n"},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L630-L631","name":"Lean.writeModule","docLink":"./Lean/Environment.html#Lean.writeModule","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L613-L627","name":"Lean.mkModuleData","docLink":"./Lean/Environment.html#Lean.mkModuleData","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L595-L611","name":"Lean.Environment.freeRegions","docLink":"./Lean/Environment.html#Lean.Environment.freeRegions","doc":"Free compacted regions of imports. No live references to imported objects may exist at the time of invocation; in\nparticular, `env` should be the last reference to any `Environment` derived from these imports. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L589-L589","name":"Lean.readModuleData","docLink":"./Lean/Environment.html#Lean.readModuleData","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L587-L587","name":"Lean.saveModuleData","docLink":"./Lean/Environment.html#Lean.saveModuleData","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L579-L582","name":"Lean.MapDeclarationExtension.contains","docLink":"./Lean/Environment.html#Lean.MapDeclarationExtension.contains","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L571-L577","name":"Lean.MapDeclarationExtension.find?","docLink":"./Lean/Environment.html#Lean.MapDeclarationExtension.find?","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L567-L569","name":"Lean.MapDeclarationExtension.insert","docLink":"./Lean/Environment.html#Lean.MapDeclarationExtension.insert","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L564-L565","name":"Lean.MapDeclarationExtension.instInhabitedMapDeclarationExtension","docLink":"./Lean/Environment.html#Lean.MapDeclarationExtension.instInhabitedMapDeclarationExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L554-L560","name":"Lean.mkMapDeclarationExtension","docLink":"./Lean/Environment.html#Lean.mkMapDeclarationExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L552-L552","name":"Lean.MapDeclarationExtension","docLink":"./Lean/Environment.html#Lean.MapDeclarationExtension","doc":"Environment extension for mapping declarations to values.\nDeclarations must only be inserted into the mapping in the module where they were declared. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L542-L545","name":"Lean.TagDeclarationExtension.isTagged","docLink":"./Lean/Environment.html#Lean.TagDeclarationExtension.isTagged","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L538-L540","name":"Lean.TagDeclarationExtension.tag","docLink":"./Lean/Environment.html#Lean.TagDeclarationExtension.tag","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L535-L536","name":"Lean.TagDeclarationExtension.instInhabitedTagDeclarationExtension","docLink":"./Lean/Environment.html#Lean.TagDeclarationExtension.instInhabitedTagDeclarationExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L525-L531","name":"Lean.mkTagDeclarationExtension","docLink":"./Lean/Environment.html#Lean.mkTagDeclarationExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L523-L523","name":"Lean.TagDeclarationExtension","docLink":"./Lean/Environment.html#Lean.TagDeclarationExtension","doc":"Environment extension for tagging declarations.\nDeclarations must only be tagged in the module where they were declared. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L516-L517","name":"Lean.SimplePersistentEnvExtension.modifyState","docLink":"./Lean/Environment.html#Lean.SimplePersistentEnvExtension.modifyState","doc":"Modify the state of the given extension in the given environment by applying the given function. This change is *not* persisted across files. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L512-L513","name":"Lean.SimplePersistentEnvExtension.setState","docLink":"./Lean/Environment.html#Lean.SimplePersistentEnvExtension.setState","doc":"Set the current state of the given `SimplePersistentEnvExtension`. This change is *not* persisted across files. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L508-L509","name":"Lean.SimplePersistentEnvExtension.getState","docLink":"./Lean/Environment.html#Lean.SimplePersistentEnvExtension.getState","doc":"Get the current state of the given `SimplePersistentEnvExtension`. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L504-L505","name":"Lean.SimplePersistentEnvExtension.getEntries","docLink":"./Lean/Environment.html#Lean.SimplePersistentEnvExtension.getEntries","doc":"Get the list of values used to update the state of the given\n`SimplePersistentEnvExtension` in the current file. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L499-L500","name":"Lean.SimplePersistentEnvExtension.instInhabitedSimplePersistentEnvExtension","docLink":"./Lean/Environment.html#Lean.SimplePersistentEnvExtension.instInhabitedSimplePersistentEnvExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L486-L495","name":"Lean.registerSimplePersistentEnvExtension","docLink":"./Lean/Environment.html#Lean.registerSimplePersistentEnvExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L480-L484","name":"Lean.SimplePersistentEnvExtensionDescr","docLink":"./Lean/Environment.html#Lean.SimplePersistentEnvExtensionDescr","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L477-L478","name":"Lean.mkStateFromImportedEntries","docLink":"./Lean/Environment.html#Lean.mkStateFromImportedEntries","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L475-L475","name":"Lean.SimplePersistentEnvExtension","docLink":"./Lean/Environment.html#Lean.SimplePersistentEnvExtension","doc":"Simple `PersistentEnvExtension` that implements `exportEntriesFn` using a list of entries. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L472-L472","name":"Lean.registerPersistentEnvExtension","docLink":"./Lean/Environment.html#Lean.registerPersistentEnvExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L450-L469","name":"Lean.registerPersistentEnvExtensionUnsafe","docLink":"./Lean/Environment.html#Lean.registerPersistentEnvExtensionUnsafe","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L442-L448","name":"Lean.PersistentEnvExtensionDescr","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L440-L440","name":"Lean.persistentEnvExtensionsRef","docLink":"./Lean/Environment.html#Lean.persistentEnvExtensionsRef","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L435-L436","name":"Lean.PersistentEnvExtension.modifyState","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.modifyState","doc":"Modify the state of the given extension in the given environment by applying the given function. This change is *not* persisted across files. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L431-L432","name":"Lean.PersistentEnvExtension.setState","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.setState","doc":"Set the current state of the given extension in the given environment. This change is *not* persisted across files. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L427-L428","name":"Lean.PersistentEnvExtension.getState","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.getState","doc":"Get the current state of the given extension in the given environment. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L421-L424","name":"Lean.PersistentEnvExtension.addEntry","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.addEntry","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L418-L419","name":"Lean.PersistentEnvExtension.getModuleEntries","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.getModuleEntries","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L406-L414","name":"Lean.instInhabitedPersistentEnvExtension","docLink":"./Lean/Environment.html#Lean.instInhabitedPersistentEnvExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L403-L404","name":"Lean.instInhabitedPersistentEnvExtensionState","docLink":"./Lean/Environment.html#Lean.instInhabitedPersistentEnvExtensionState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L395-L401","name":"Lean.PersistentEnvExtension","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension","doc":"An environment extension with support for storing/retrieving entries from a .olean file.\n- α is the type of the entries that are stored in .olean files.\n- β is the type of values used to update the state.\n- σ is the actual state.\n\nRemark: for most extensions α and β coincide.\n\nNote that `addEntryFn` is not in `IO`. This is intentional, and allows us to write simple functions such as\n```\ndef addAlias (env : Environment) (a : Name) (e : Name) : Environment :=\naliasExtension.addEntry env (a, e)\n```\nwithout using `IO`. We have many functions like `addAlias`.\n\n`α` and ‵β` do not coincide for extensions where the data used to update the state contains, for example,\nclosures which we currently cannot store in files. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L377-L377","name":"Lean.ImportM","docLink":"./Lean/Environment.html#Lean.ImportM","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L373-L375","name":"Lean.ImportM.Context","docLink":"./Lean/Environment.html#Lean.ImportM.Context","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L369-L371","name":"Lean.PersistentEnvExtensionState","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L357-L367","name":"Lean.mkEmptyEnvironment","docLink":"./Lean/Environment.html#Lean.mkEmptyEnvironment","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L353-L353","name":"Lean.registerEnvExtension","docLink":"./Lean/Environment.html#Lean.registerEnvExtension","doc":"Environment extensions can only be registered during initialization.\nReasons:\n1- Our implementation assumes the number of extensions does not change after an environment object is created.\n2- We do not use any synchronization primitive to access `envExtensionsRef`.\n\nNote that by default, extension state is *not* stored in .olean files and will not propagate across `import`s.\nFor that, you need to register a persistent environment extension. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L343-L343","name":"Lean.EnvExtension.getState","docLink":"./Lean/Environment.html#Lean.EnvExtension.getState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L342-L342","name":"Lean.EnvExtension.modifyState","docLink":"./Lean/Environment.html#Lean.EnvExtension.modifyState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L341-L341","name":"Lean.EnvExtension.setState","docLink":"./Lean/Environment.html#Lean.EnvExtension.setState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L340-L340","name":"Lean.EnvExtension.instInhabitedEnvExtension","docLink":"./Lean/Environment.html#Lean.EnvExtension.instInhabitedEnvExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L334-L334","name":"Lean.EnvExtension","docLink":"./Lean/Environment.html#Lean.EnvExtension","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L332-L332","name":"Lean.EnvExtensionInterfaceImp","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceImp","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L318-L327","name":"Lean.EnvExtensionInterfaceUnsafe.imp","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.imp","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L314-L316","name":"Lean.EnvExtensionInterfaceUnsafe.mkInitialExtStates","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.mkInitialExtStates","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L302-L312","name":"Lean.EnvExtensionInterfaceUnsafe.registerExt","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.registerExt","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L295-L300","name":"Lean.EnvExtensionInterfaceUnsafe.getState","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.getState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L285-L293","name":"Lean.EnvExtensionInterfaceUnsafe.modifyState","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.modifyState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L279-L283","name":"Lean.EnvExtensionInterfaceUnsafe.setState","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.setState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L268-L275","name":"Lean.EnvExtensionInterfaceUnsafe.ensureExtensionsArraySize.loop","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.ensureExtensionsArraySize.loop","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L265-L275","name":"Lean.EnvExtensionInterfaceUnsafe.ensureExtensionsArraySize","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.ensureExtensionsArraySize","doc":"User-defined environment extensions are declared using the `initialize` command.\nThis command is just syntax sugar for the `init` attribute.\nWhen we `import` lean modules, the vector stored at `envExtensionsRef` may increase in size because of\nuser-defined environment extensions. When this happens, we must adjust the size of the `env.extensions`.\nThis method is invoked when processing `import`s.\n"},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L254-L254","name":"Lean.EnvExtensionInterfaceUnsafe.instInhabitedExt","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.instInhabitedExt","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L251-L254","name":"Lean.EnvExtensionInterfaceUnsafe.Ext","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterfaceUnsafe.Ext","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L236-L246","name":"Lean.instInhabitedEnvExtensionInterface","docLink":"./Lean/Environment.html#Lean.instInhabitedEnvExtensionInterface","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L226-L234","name":"Lean.EnvExtensionInterface","docLink":"./Lean/Environment.html#Lean.EnvExtensionInterface","doc":"Interface for managing environment extensions. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L221-L221","name":"Lean.Environment.addDecl","docLink":"./Lean/Environment.html#Lean.Environment.addDecl","doc":"Type check given declaration and add it to the environment "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L203-L215","name":"Lean.KernelException","docLink":"./Lean/Environment.html#Lean.KernelException","doc":"Exceptions that can be raised by the Kernel when type checking new declarations. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L197-L198","name":"Lean.Environment.getModuleIdx?","docLink":"./Lean/Environment.html#Lean.Environment.getModuleIdx?","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L192-L195","name":"Lean.Environment.isConstructor","docLink":"./Lean/Environment.html#Lean.Environment.isConstructor","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L189-L190","name":"Lean.Environment.getModuleIdxFor?","docLink":"./Lean/Environment.html#Lean.Environment.getModuleIdxFor?","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L174-L175","name":"Lean.Environment.mainModule","docLink":"./Lean/Environment.html#Lean.Environment.mainModule","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L170-L171","name":"Lean.Environment.setMainModule","docLink":"./Lean/Environment.html#Lean.Environment.setMainModule","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L166-L167","name":"Lean.Environment.allImportedModuleNames","docLink":"./Lean/Environment.html#Lean.Environment.allImportedModuleNames","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L163-L164","name":"Lean.Environment.imports","docLink":"./Lean/Environment.html#Lean.Environment.imports","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L160-L161","name":"Lean.Environment.contains","docLink":"./Lean/Environment.html#Lean.Environment.contains","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L156-L158","name":"Lean.Environment.find?","docLink":"./Lean/Environment.html#Lean.Environment.find?","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L149-L153","name":"Lean.Environment.addExtraName","docLink":"./Lean/Environment.html#Lean.Environment.addExtraName","doc":"Save an extra constant name that is used to populate `const2ModIdx` when we import\n.olean files. We use this feature to save in which module an auxiliary declaration\ncreated by the code generator has been created.\n"},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L141-L142","name":"Lean.Environment.addAux","docLink":"./Lean/Environment.html#Lean.Environment.addAux","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L137-L137","name":"Lean.instInhabitedEnvironment","docLink":"./Lean/Environment.html#Lean.instInhabitedEnvironment","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L108-L137","name":"Lean.Environment","docLink":"./Lean/Environment.html#Lean.Environment","doc":"An environment stores declarations provided by the user. The kernel\ncurrently supports different kinds of declarations such as definitions, theorems,\nand inductive families. Each has a unique identifier (i.e., `Name`), and can be\nparameterized by a sequence of universe parameters.\nA constant in Lean is just a reference to a `ConstantInfo` object. The main task of\nthe kernel is to type check these declarations and refuse type incorrect ones. The\nkernel does not allow declarations containing metavariables and/or free variables\nto be added to an environment. Environments are never destructively updated.\n\nThe environment also contains a collction of extensions. For example, the `simp` theorems\ndeclared by users are stored in an environment extension. Users can declare new extensions\nusing meta-programming.\n"},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L92-L92","name":"Lean.instInhabitedEnvironmentHeader","docLink":"./Lean/Environment.html#Lean.instInhabitedEnvironmentHeader","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L69-L92","name":"Lean.EnvironmentHeader","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader","doc":"Environment fields that are not used often. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L66-L66","name":"Lean.instInhabitedModuleData","docLink":"./Lean/Environment.html#Lean.instInhabitedModuleData","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L56-L66","name":"Lean.ModuleData","docLink":"./Lean/Environment.html#Lean.ModuleData","doc":"Content of a .olean file.\nWe use `compact.cpp` to generate the image of this object in disk. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L52-L52","name":"Lean.instNonemptyEnvExtensionEntry","docLink":"./Lean/Environment.html#Lean.instNonemptyEnvExtensionEntry","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L51-L51","name":"Lean.EnvExtensionEntry","docLink":"./Lean/Environment.html#Lean.EnvExtensionEntry","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L50-L50","name":"Lean.EnvExtensionEntrySpec","docLink":"./Lean/Environment.html#Lean.EnvExtensionEntrySpec","doc":"Opaque persistent environment extension entry. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L47-L47","name":"Lean.CompactedRegion.free","docLink":"./Lean/Environment.html#Lean.CompactedRegion.free","doc":"Free a compacted region and its contents. No live references to the contents may exist at the time of invocation. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L43-L43","name":"Lean.CompactedRegion.isMemoryMapped","docLink":"./Lean/Environment.html#Lean.CompactedRegion.isMemoryMapped","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L40-L40","name":"Lean.CompactedRegion","docLink":"./Lean/Environment.html#Lean.CompactedRegion","doc":"A compacted region holds multiple Lean objects in a contiguous memory region, which can be read/written to/from disk.\nObjects inside the region do not have reference counters and cannot be freed individually. The contents of .olean\nfiles are compacted regions. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L34-L34","name":"Lean.instToStringImport","docLink":"./Lean/Environment.html#Lean.instToStringImport","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L30-L32","name":"Lean.Import","docLink":"./Lean/Environment.html#Lean.Import","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L28-L28","name":"Lean.ConstMap","docLink":"./Lean/Environment.html#Lean.ConstMap","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L26-L26","name":"Lean.instInhabitedModuleIdx","docLink":"./Lean/Environment.html#Lean.instInhabitedModuleIdx","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L24-L24","name":"Lean.ModuleIdx.toNat","docLink":"./Lean/Environment.html#Lean.ModuleIdx.toNat","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L21-L22","name":"Lean.ModuleIdx","docLink":"./Lean/Environment.html#Lean.ModuleIdx","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L19-L19","name":"Lean.instInhabitedEnvExtensionState","docLink":"./Lean/Environment.html#Lean.instInhabitedEnvExtensionState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L18-L18","name":"Lean.EnvExtensionState","docLink":"./Lean/Environment.html#Lean.EnvExtensionState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/e44fd19074259018b9ddcbdb00209492416bc8ac/src/Lean/Environment.lean#L17-L17","name":"Lean.EnvExtensionStateSpec","docLink":"./Lean/Environment.html#Lean.EnvExtensionStateSpec","doc":"Opaque environment extension state. "}]}